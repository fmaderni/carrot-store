---
import BaseLayout from "../../layouts/BaseLayout.astro";
import products from "../../data/products.json";

export async function getStaticPaths() {
  return products.map((p) => ({
    params: { slug: p.slug },
    props: { product: p },
  }));
}

const { product } = Astro.props;
---

<BaseLayout title={product.nombre} description={product.descripcion}>
  <div class="grid gap-8 md:grid-cols-2">
    <img
      src={product.imagen}
      alt={product.nombre}
      class="aspect-square w-full rounded-xl border object-cover"
      loading="eager"
    />
    <div>
      <h1 class="text-2xl font-bold tracking-tight">{product.nombre}</h1>
      <p class="mt-2 text-stone-600">{product.descripcion}</p>

      <p class="mt-4 text-xl font-semibold">{product.precio} UYU</p>
      <p class="mt-2 text-sm">
        Talle: {product.talle} · Categoría: {product.categoria}
      </p>

      <a
        href="/contacto"
        class="mt-6 inline-block rounded-lg bg-orange-600 px-5 py-3 text-white"
      >
        Comprar por WhatsApp
      </a>
    </div>
  </div>
</BaseLayout>
