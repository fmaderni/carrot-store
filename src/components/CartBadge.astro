<!-- src/components/CartBadge.astro -->
<a href="/carrito" class="relative inline-flex items-center gap-2">
  ğŸ›’
  <span id="cart-count" class="text-xs rounded-full border px-2 py-0.5">0</span>
</a>

<script type="module" client:load>
  import { cartCount } from "../lib/cart";

  const el = document.getElementById("cart-count");

  const update = () => {
    if (el) el.textContent = String(cartCount());
  };

  update();
  window.addEventListener("cart:updated", update);
</script>
